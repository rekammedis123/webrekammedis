<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link rel="icon" href="logorekammedis.ico">
<title>Jadwal | Medical Record</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --green:#2fa36b;
  --green-dark:#1f7f53;
  --bg:#eef5f2;
  --card:#ffffff;
  --shadow:0 12px 30px rgba(0,0,0,.12);
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',Arial;
}

html,body{
  min-height:100vh;
  background:var(--bg);
  display:flex;
  flex-direction:column;
  color:#333;
}

/* ===== HEADER ===== */
header{
  background:linear-gradient(135deg,#ffffff,#e9f7f0);
  padding:15px 20px;
  box-shadow:var(--shadow);
}

.logo{
  display:flex;
  align-items:center;
  flex-wrap:wrap;
}
.logo img{
  width:300px;
  height:70px;
}

/* ADMIN */
.admin-btn{
  margin-left:auto;
  background:linear-gradient(135deg,var(--green),var(--green-dark));
  color:#fff;
  padding:8px 18px;
  border-radius:30px;
  font-size:12px;
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:8px;
  box-shadow:var(--shadow);
  transition:.3s;
}
.admin-btn:hover{transform:translateY(-2px)}
.header-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:15px;
  flex-wrap:wrap;
}

/* ===== NAV ===== */
nav ul{
  list-style:none;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:6px;
  padding:10px;
  margin-top:15px;
  background:#fff;
  border-radius:50px;
  box-shadow:var(--shadow);
}
nav ul li a{
  text-decoration:none;
  color:#444;
  font-weight:600;
  border-radius:50px;
  padding:6px 16px;
  display:flex;
  align-items:center;
  gap:6px;
  transition:.3s;
}
nav ul li a:hover,
nav ul li a.active{
  background:linear-gradient(135deg,var(--green),var(--green-dark));
  color:#fff;
}

/* STYLE DROPDOWN HUBUNGI KAMI */
    .dropdown-hubungi {
      position: relative;
      display: inline-block;
    }
    
    .dropdown-content-hubungi {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .dropdown-content-hubungi a {
      color: #333;
      padding: 10px 15px;
      text-decoration: none;
      display: block;
      font-weight: 600;
      transition: all 0.3s;
    }
    .dropdown-content-hubungi a:hover {
      background-color: #e2f8f1;
      color: #1f8664;
    }
    
    .dropdown-hubungi:hover .dropdown-content-hubungi {
      display: block;
    }

/* ===== MAIN ===== */
main{
  flex:1;
  padding:40px 20px;
}

/* ===== PAGE TITLE ===== */
.page-title{
  max-width:1100px;
  margin:0 auto 30px;
  background:var(--card);
  padding:30px;
  border-radius:24px;
  box-shadow:var(--shadow);
  animation:fadeUp .5s ease;
}
.page-title h1{
  color:var(--green);
  display:flex;
  align-items:center;
  gap:12px;
  font-size:32px;
}

/* ===== JADWAL CARD ===== */
.jadwal-container{
  max-width:900px;
  margin:auto;
  background:var(--card);
  padding:30px;
  border-radius:24px;
  box-shadow:var(--shadow);
  animation:fadeUp .5s ease;
}

.jadwal-container h2{
  color:var(--green);
  font-size:26px;
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:10px;
}

.note{
  font-size:14px;
  color:#666;
  margin-bottom:20px;
  font-style:italic;
}

/* ===== TABS ===== */
.tabs{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:20px;
}
.tab{
  padding:6px 16px;
  border-radius:50px;
  background:#e9f7f0;
  color:#444;
  font-weight:600;
  cursor:pointer;
  transition:.3s;
}
.tab.active,
.tab:hover{
  background:linear-gradient(135deg,var(--green),var(--green-dark));
  color:#fff;
}

/* ===== LOADING ===== */
#loading{
  display:flex;
  align-items:center;
  gap:10px;
  color:#555;
  margin-bottom:15px;
}
.spinner{
  width:16px;
  height:16px;
  border:3px solid #ddd;
  border-top:3px solid var(--green);
  border-radius:50%;
  animation:spin .9s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== FILE LIST ===== */
.file-list{
  list-style:none;
}
.file-link{
  text-decoration:none;
  color:inherit;
}
.file-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid #eee;
  transition:.3s;
}
.file-item:hover{
  background:#f0faf6;
}
.file-name{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:500;
}
.file-name i{
  color:var(--green);
}

/* ===== LIST ANIM ===== */
.file-list.anim-out{
  animation:fadeOut .25s ease forwards;
}
.file-list.anim-in{
  animation:fadeInSlide .35s ease forwards;
}
@keyframes fadeOut{
  from{opacity:1;transform:translateY(0)}
  to{opacity:0;transform:translateY(8px)}
}
@keyframes fadeInSlide{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1;transform:none}
}

/* ===== FOOTER ===== */
footer{
  background:#fff;
  padding:30px 20px;
  box-shadow:var(--shadow);
}
.small{font-size:14px;color:#666}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1}
}

@media(max-width:900px){
  .hero-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>

<header>
  <div class="header-bar">
    <div class="logo">
      <img src="logopanjang.png">
    </div>

    <a href="admin_index.html" class="admin-btn">
      <i class="fas fa-user-shield"></i> Admin Dashboard
    </a>
  </div>

  <nav>
    <ul>
      <li><a href="index.html"><i class="fas fa-home"></i> BERANDA</a></li>
      <li><a href="profil.html"><i class="fas fa-user-circle"></i> PROFIL</a></li>
      <li><a href="regulasi.html"><i class="fas fa-swatchbook"></i> REGULASI</a></li>
      <li><a href="informasi.html"><i class="fas fa-info-circle"></i> INFORMASI</a></li>
      <li><a href="layanan.html"><i class="fas fa-headset"></i> LAYANAN INTERNAL</a></li>
      <li><a href="indikator.html"><i class="fas fa-chart-line"></i> INDIKATOR</a></li>
      <li><a href="laporan.html"><i class="fas fa-database"></i> LAPORAN</a></li>
      <li><a href="kegiatan.html"><i class="fas fa-calendar-check"></i> KEGIATAN</a></li>
      <li class="dropdown-hubungi">
        <a><i class="fas fa-phone"></i> HUBUNGI KAMI</a>
        <div class="dropdown-content-hubungi">
          <a href="#"><i class="fas fa-envelope"></i> Email</a>
          <a href="#"><i class="fas fa-phone"></i> Telepon</a>
          <a href="https://wa.me/6283153300859"><i class="fab fa-whatsapp"></i> WhatsApp</a>
          <a href="#"><i class="fas fa-map-marker-alt"></i> Alamat</a>
        </div>
      </li>
    </ul>
  </nav>
</header>

<main>

<section class="page-title">
  <h1><i class="fas fa-calendar-days"></i> JADWAL REKAM MEDIK</h1>
  <div class="note">"Kalo tukeran jadwal jangan lupa ngomong Mbak Susi ðŸ—¿"</div>
</section>

<section class="jadwal-container">
  <div class="tabs" id="yearTabs"></div>

  <div id="loading">
    <div class="spinner"></div>
    <span>Sedang memuat jadwal...</span>
  </div>

  <ul id="fileList" class="file-list"></ul>
</section>

</main>

<footer>
  <strong>MEDICAL RECORD</strong>
  <div class="small">Â© 2025 RSU An'Nimah â€¢ Unit Rekam Medis</div>
</footer>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbw_y2PNC_Ckv-A_u2TCPbtz7kkx3KdkWAL2985PlMEpJZG1tAfq4kaPztWWBUi7RJsW/exec";
let allFiles=[];

async function loadFiles(){
  try{
    const res=await fetch(API_URL);
    allFiles=await res.json();
    document.getElementById("loading").style.display="none";

    if(!allFiles.length){
      document.getElementById("fileList").innerHTML="<li>Tidak ada jadwal.</li>";
      return;
    }

    const years=[...new Set(allFiles.map(f=>f.year))];
    const tabs=document.getElementById("yearTabs");
    tabs.innerHTML="";

    years.forEach((y,i)=>{
      const t=document.createElement("div");
      t.className="tab"+(i===0?" active":"");
      t.textContent=y;
      t.onclick=()=>{
        document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
        t.classList.add("active");
        renderFiles(y);
      };
      tabs.appendChild(t);
    });

    renderFiles(years[0]);
  }catch{
    document.getElementById("loading").textContent="âŒ Gagal memuat data";
  }
}

function renderFiles(year){
  const list=document.getElementById("fileList");
  list.classList.remove("anim-in");
  list.classList.add("anim-out");

  setTimeout(()=>{
    list.innerHTML="";
    allFiles.filter(f=>f.year===year).forEach(f=>{
      const li=document.createElement("li");
      li.innerHTML=`
        <a href="${f.url}" target="_blank" class="file-link">
          <div class="file-item">
            <div class="file-name">
              <i class="fa-regular fa-file"></i> ${f.name}
            </div>
          </div>
        </a>`;
      list.appendChild(li);
    });
    list.classList.remove("anim-out");
    list.classList.add("anim-in");
  },250);
}

loadFiles();
</script>

</body>
</html>
