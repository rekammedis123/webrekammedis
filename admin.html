<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body { font-family: Arial; background:#f4f7fb; padding:40px }
.box { background:#fff; padding:30px; max-width:600px; margin:auto; border-radius:12px }
input, textarea, button {
  width:100%; margin-top:10px; padding:10px;
  border-radius:8px; border:1px solid #ccc;
}
button { background:#2e8b57; color:white; border:none }
</style>
</head>
<body>

<div class="box">
  <h2>Admin Profil Unit</h2>

  <input id="admin" placeholder="Nama Admin">

  <textarea id="visi" placeholder="Visi"></textarea>
  <textarea id="misi" placeholder="Misi"></textarea>
  <textarea id="struktur" placeholder="Struktur"></textarea>
  <input id="sotk" placeholder="Link SOTK">

  <button onclick="simpan()">ðŸ’¾ Simpan</button>
  <p id="status"></p>
</div>

<script>
const API_URL = 'https://script.google.com/macros/s/AKfycbw7MWhmAJLlctAkmBbH0__q95Yoc12q0q5kyMREc8Mj/dev';

function simpan() {
  const data = {
    admin: admin.value,
    visi: visi.value,
    misi: misi.value,
    struktur: struktur.value,
    sotk_link: sotk.value
  };

  fetch(API_URL, {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => {
    status.innerText = res.success ? 'âœ… ' + res.message : 'âŒ ' + res.message;
  })
  .catch(() => status.innerText = 'âŒ Gagal koneksi');
}

fetch(API_URL)
  .then(res => res.json())
  .then(d => {
    visi.value = d.visi || '';
    misi.value = d.misi || '';
    struktur.value = d.struktur || '';
    sotk.value = d.sotk_link || '';
  });
</script>

</body>
</html>
